<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <title>Testing APIs</title>
        <style type="text/css">
        </style>
</head>
<body>
  Enter Summoner Name <input id = "textbox"></input>
  <button id = "getAPI">Get API Data</button>
  <div id='name'></div>
  <div id='level'></div>
  <div id='mpts'></div>

  <script>
    document.getElementById('getAPI').addEventListener('click', getAPI);

    function getAPI(){
      var api1 = 'https://cors-anywhere.herokuapp.com/https://na1.api.riotgames.com/lol/summoner/v4/summoners/by-name/';
      var api2 = '?api_key=';
      var summName = document.getElementById("textbox").value;
      
      var summNameCall = api1 + summName + api2;

      fetch('key.txt').then(response => {
        return response.text();
      }).then(data => {
        summNameCall = summNameCall + data;
        console.log(summNameCall);
        return fetch(summNameCall);
      }).then(response => {
        return response.json();
      }).then(leagueData => {
        var sid = leagueData.id;
        console.log(sid);
        document.getElementById('name').innerHTML = leagueData.name;
        document.getElementById('level').innerHTML = 'level ' + leagueData.summonerLevel;
      })
    }
  </script>
</body>
</html>
